import numpy as npimport matplotlib.pyplot as plt# ── Define a class to store spectrogram-related data ─────────────class SpectrogramData:    def __init__(self, s, f, t, songs, starts, ends):        self.s = s        self.f = f        self.t = t        self.songs = songs        self.starts = starts        self.ends = ends# ── Main function ───────────────────────────────────────────────def plot_NPZ_spectrogram_with_song_highlight(npz_path: str, plot_spectrogram: bool = True) -> SpectrogramData:    """    Load a .npz file containing:      - 's': spectrogram amplitude (shape: [n_freqs, n_times])      - 'f': optional frequency bins      - 't': optional time bins      - 'songs': binary mask (0/1) for song presence per time bin    and optionally plot the spectrogram with yellow highlighted song segments,    using the 'binary' colormap.    Parameters    ----------    npz_path : str        Path to the .npz file.    plot_spectrogram : bool, optional        If True, plot the spectrogram. Default is True.    Returns    -------    SpectrogramData        Object containing s, f, t, songs, starts, and ends.    """    # Load data    with np.load(npz_path, allow_pickle=True) as data:        s = data['s']        f = data['f'] if 'f' in data.files else np.arange(s.shape[0])        t = data['t'] if 't' in data.files else np.arange(s.shape[1])        songs = data['song'].astype(bool)    # Detect contiguous song intervals    padded = np.concatenate(([False], songs, [False]))    diff = np.diff(padded.astype(int))    starts = np.where(diff == 1)[0]    ends   = np.where(diff == -1)[0]    # Optional plotting    if plot_spectrogram:        plt.figure(figsize=(10, 4))        mesh = plt.pcolormesh(t, f, s, shading='auto', cmap='binary')        plt.ylabel('Frequency [Hz]')        plt.xlabel('Time [sec]')        plt.title('Spectrogram with Song Highlights')        cbar = plt.colorbar(mesh)        cbar.set_label('Amplitude (dB)' if s.dtype.kind == 'f' else 'Power')        for start, end in zip(starts, ends):            plt.axvspan(t[start], t[end - 1], color='yellow', alpha=0.1)        plt.tight_layout()        plt.show()    return SpectrogramData(s, f, t, songs, starts, ends)# ── Example usage ───────────────────────────────────────────────#npz_path = "/Users/mirandahulsey-vincent/Documents/allPythonCode/BYOD_class/data_inputs/sample_GV_groundtruth_npzs/llb3_0439_2018_04_25_05_59_56_segment_0.npz"# data = plot_NPZ_spectrogram_with_song_highlight(npz_path, plot_spectrogram=False)